:root{
  font-size:20px;
  --primary:#8b5cf6; --secondary:#06b6d4;
  --text-light:#fafafa; --text-gray:#a1a1aa;
  --border:#27272a; --success:#22c55e; --error:#ef4444;
  --radius:12px; --transition:.3s ease-in-out;
  --bg:#0e1425; --bg2:#0b1020; --ink:#f7fafc; --muted:#a1a1aa;
  --card:#171923; --line:#2a2f3b; --p1:#8b5cf6; --p2:#06b6d4;
  font-family:'Inter',system-ui,sans-serif;
  color:var(--text-light);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

*{box-sizing:border-box}
html,body,#root{height:100%}

/* Auth page */
body{
  margin:0; min-height:100vh;
  display:flex; justify-content:center; align-items:flex-start;
  background:radial-gradient(circle at 50% 50%,#0f172a 0%,#1e293b 40%,#0f172a 100%);
  overflow-y:auto; padding:4rem 0;
}
a{color:var(--secondary);text-decoration:none;font-weight:500}
.card{
  background:linear-gradient(145deg,#1e1e24,#23232b);
  border-radius:16px; box-shadow:0 0 60px rgba(139,92,246,.4);
  padding:4rem; width:100%; max-width:7200px; min-height:640px;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  border:1px solid rgba(255,255,255,.05);
}
.logo-wrap{width:100%;display:grid;justify-items:center;text-align:center;gap:10px}
input{
  width:100%; padding:1.4rem; margin:1rem 0; border-radius:var(--radius);
  border:1px solid var(--border); background:#0f172a; color:var(--text-light);
  outline:none; font-size:1.2rem; transition:var(--transition);
}
input:focus{border-color:var(--primary); box-shadow:0 0 12px rgba(139,92,246,.3)}
button{
  width:100%; padding:1.4rem; font-size:1.3rem; font-weight:700; color:#fff;
  border:none; border-radius:var(--radius);
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  cursor:pointer; transition:var(--transition); margin-top:1.2rem;
}
button:hover{transform:scale(1.05); box-shadow:0 0 25px rgba(6,182,212,.5)}
h1{font-size:3.5rem;margin:0 0 1rem;background:linear-gradient(90deg,#8b5cf6,#06b6d4);
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
h2{font-size:2rem;margin:0 0 .75rem}
label{font-size:1.2rem;font-weight:600;display:block;text-align:left;margin:0 0 .5rem;color:var(--text-light)}
.message-success{background:rgba(34,197,94,.15);border:1px solid var(--success);color:var(--success);padding:1rem;border-radius:var(--radius);font-weight:600}
.message-error{background:rgba(239,68,68,.15);border:1px solid var(--error);color:var(--error);padding:1rem;border-radius:var(--radius);font-weight:600}
.container{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:3rem;background:linear-gradient(120deg,#1e293b 0%,#0f172a 100%)}
.form-wrapper{display:flex;flex-direction:column;gap:1.5rem}
@media (max-width:768px){
  .card{padding:2rem;max-width:95%;min-height:500px}
  h1{font-size:2.4rem}
  input,button{font-size:1rem;padding:1rem}
}

/* Dashboard mode */
body:has(.dash-wrap){
  display:block; padding:0;
  background:linear-gradient(135deg,#0b1020,#12182a);
  color:var(--ink);
  font-family:system-ui,Segoe UI,Inter,Arial;
}

/* Layout */
.dash-wrap{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
.dash-sidebar{
  background:linear-gradient(180deg,#0f172a,#0b1020);
  border-right:1px solid var(--line);
  display:flex;flex-direction:column;gap:18px;padding:22px
}
.dash-brand{
  font-weight:900;font-size:1.2rem;
  background:linear-gradient(90deg,var(--p1),var(--p2));
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent
}
.dash-nav{display:grid;gap:10px}
.nav-btn{
  background:#111827;border:1px solid var(--line);
  padding:12px 14px;border-radius:10px;text-align:left;font-weight:700
}
.nav-btn.active{
  background:linear-gradient(135deg,rgba(139,92,246,.25),rgba(6,182,212,.25));
  border-color:#3b3b40
}
.logout-btn{
  margin-top:auto;background:#1f2937;border:1px solid var(--line);
  padding:12px 14px;border-radius:10px;font-weight:700
}

/* Main content */
.dash-main{
  padding:28px 28px 240px;
  display:grid; gap:20px; align-content:start;
  min-height:100vh; overflow:auto;
}
.page{display:grid;gap:20px;padding-bottom:24px}
.page-header{display:flex;justify-content:space-between;align-items:flex-end}
.title{
  margin:0;font-size:2rem;font-weight:900;
  background:linear-gradient(90deg,var(--p1),var(--p2));
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent
}
.subtitle{margin-top:6px;color:var(--muted)}

/* Grids */
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}

/* Cards/Panels */
.kpi,.panel{background:rgba(255,255,255,.04);border:1px solid var(--line);border-radius:14px}
.kpi{padding:16px}
.kpi-label{color:var(--muted);font-size:.95rem}
.kpi-value{font-size:1.8rem;font-weight:900}
.panel{padding:16px;display:grid;gap:12px;overflow:visible}
.panel-title{font-weight:800;letter-spacing:.3px}

/* Lists */
.list{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.list-row{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;padding:10px;border-radius:10px;background:rgba(255,255,255,.02);border:1px solid var(--line)}
.list-title{font-weight:800}
.list-sub{color:var(--muted);font-size:.9rem}
.amount{font-weight:900}
.amount.pos{color:#34d399}
.amount.neg{color:#fb7185}

/* Actions */
.actions-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.action,.btn{
  padding:14px;border-radius:10px;border:0;
  background:linear-gradient(135deg,var(--p1),var(--p2));color:#fff;font-weight:800;min-height:44px
}
.action{border:1px solid var(--line);background:linear-gradient(135deg,rgba(139,92,246,.18),rgba(6,182,212,.18));color:var(--ink)}
.btn.wide-btn{width:100%}

/* Form */
.row{display:flex;gap:10px;align-items:center}
.input,select{
  flex:1;padding:14px 16px;border-radius:10px;border:1px solid var(--line);
  background:#0b1020;color:var(--ink);line-height:1.2
}
.input.large-input{width:100%}
select{-webkit-appearance:none;-moz-appearance:none;appearance:none}

/* Group cards */
.cards{list-style:none;margin:0;padding:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
.card-item{background:rgba(255,255,255,.03);border:1px solid var(--line);border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:8px;min-height:180px}
.card-title{font-weight:900}
.card-sub{color:var(--muted);font-size:.95rem}
.card-sub ul{margin:8px 0 0 18px;padding:0}
.card-sub li{list-style:disc}

/* Toast */
.toast{
  position: fixed;
  right: 24px;
  top: 24px;      
  z-index: 9999;  
  pointer-events: none;
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  font-weight: 800;
  max-width: 440px;
}

/* Scrollbar */
.dash-main::-webkit-scrollbar{width:10px}
.dash-main::-webkit-scrollbar-thumb{background:#2a2f3b;border-radius:10px}
.dash-main{scrollbar-color:#2a2f3b transparent;scrollbar-width:thin}

/* Responsive */
@media (max-width:1100px){.actions-grid{grid-template-columns:1fr 1fr}}
@media (max-width:700px){.actions-grid{grid-template-columns:1fr}}
@media (max-width:980px){
  .dash-wrap{grid-template-columns:1fr}
  .dash-sidebar{position:sticky;top:0;z-index:10;flex-direction:row;align-items:center;gap:10px}
  .dash-nav{grid-auto-flow:column}
  .logout-btn{margin-left:auto}
  .grid-3,.grid-2{grid-template-columns:1fr}
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Smooth scrollbar for chat */
.chat-messages::-webkit-scrollbar {
  width: 6px;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: #475569;
  border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-track {
  background: transparent;
}

/* Summary page*/
/* Page header: keep actions aligned to the right */
.page-header { align-items: center; gap: 16px; }
.page-header .btn-row { display:flex; gap:10px; margin-left:auto; }

/* KPI row */
.cards-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:12px;
  margin-bottom:14px;
}
@media (max-width:1100px){
  .cards-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* Two-column main grid: 2/1 split, steady gap */
.grid-2{
  display:grid;
  grid-template-columns: 2fr 1fr;
  gap:14px;
}
@media (max-width:1100px){
  .grid-2{ grid-template-columns: 1fr; }
}

/* Panels look consistent */
.panel{ background:rgba(11,18,32,.8); border:1px solid #223047; border-radius:14px; }
.panel-title{ font-weight:800; letter-spacing:.2px; }

/* Give both columns the same working height and internal scrolling */
.panel.equal-height{ height: 520px; display:flex; flex-direction:column; }
.panel.equal-height .scroll { overflow:auto; flex:1; padding-right:6px; }

/* Overview split (left column) */
.overview-split{
  display:grid; grid-template-columns: 1fr 1fr; gap:12px;
}
@media (max-width:1100px){ .overview-split{ grid-template-columns: 1fr; } }

.subcard{
  background: rgba(15,23,42,.55);
  border: 1px solid #223047;
  border-radius: 12px;
  padding: 12px;
}

/* Top group mini bars */
.bar-list{ display:flex; flex-direction:column; gap:10px; }
.bar-row{ display:grid; grid-template-columns: 1fr 1fr auto; gap:10px; align-items:center; }
.bar-row-title{ color:#e2e8f0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.bar{ height:10px; background:#112032; border-radius:999px; overflow:hidden; position:relative; }
.bar-fill{ position:absolute; inset:0; width:0; background:linear-gradient(90deg,#7c3aed,#06b6d4); }
.bar-value{ color:#cfe2ff; font-weight:700; }

/* Compact list for recent */
.list.compact .list-row{ padding:8px 6px; }
.list.compact .list-title{ font-weight:700; }
.list.compact .list-sub{ color:#94a3b8; }

/* AI panel styling */
.ai-panel{
  border:1px solid rgba(56,189,248,.25);
  background:linear-gradient(180deg, rgba(3,15,30,.85), rgba(3,15,30,.6));
  border-radius:14px;
}
.panel-head{ display:flex; align-items:center; justify-content:space-between; }
.panel-actions{ display:flex; gap:8px; }
.chip{
  padding:6px 10px; font-size:12px; border-radius:999px;
  background:#0b1424; color:#dbeafe; border:1px solid #334155;
}
.chip:disabled{ opacity:.55; }

.ai-scroll{ overflow:auto; flex:1; padding-right:6px; }
.ai-paras p{ margin:0 0 10px; color:#e6edf7; line-height:1.7; }
.ai-bullets{ margin:0; padding-left:18px; color:#d9e7ff; line-height:1.7; }
.ai-bullets li{ margin-bottom:8px; }

/* KPI cards look crisp */
.stat-card{ background:#0b1220; border:1px solid #223047; border-radius:14px; padding:16px; }
.stat-label{ color:#8aa0bf; font-size:12px; }
.stat-value{ color:#e9f0ff; font-size:26px; font-weight:800; margin-top:6px; }
.stat-value.smaller{ font-size:20px; }
.stat-sub{ color:#86a1c5; font-size:12px; margin-top:2px; }

/* Settlements layout */
.settle-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:14px;
}
@media (max-width:1280px){ .settle-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width:920px){ .settle-grid{ grid-template-columns: 1fr; } }

.panel.equal-height{ height: 420px; display:flex; flex-direction:column; }
.panel.equal-height .scroll{ overflow:auto; flex:1; padding-right:6px; }

.settle-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px 6px 12px; border-bottom:1px solid #1f2b40;
  margin: -8px -8px 8px -8px;
}
.settle-title{ font-weight:800; letter-spacing:.2px; }

.badge{
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700;
  background:#0b1420; border:1px solid #223047; color:#cfe2ff;
}
.badge.ok{ border-color:rgba(34,197,94,.35); color:#bff7cf; background:rgba(16,83,45,.35); }
.badge.warn{ border-color:rgba(250,204,21,.35); color:#ffe9ad; background:rgba(92,72,12,.25); }

/* rows */
.settle-list{ list-style:none; margin:0; padding:8px; display:flex; flex-direction:column; gap:10px; }
.settle-row{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  background:rgba(15,23,42,.6); border:1px solid #223047; border-radius:12px; padding:10px 12px;
}
.who{ display:grid; grid-auto-flow:column; align-items:center; gap:8px; }
.avatar{
  width:26px; height:26px; border-radius:50%;
  display:grid; place-items:center; font-size:12px; font-weight:800; color:#e6f0ff;
  background:linear-gradient(135deg,#7c3aed 0%, #06b6d4 100%);
}
.avatar.alt{ background:linear-gradient(135deg,#0ea5e9 0%, #34d399 100%); }
.name{ color:#e2e8f0; font-weight:700; max-width:140px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.arrow{ opacity:.8; padding:0 2px; }
.amt{
  font-weight:900; color:#f0f7ff; background:#0b1220; border:1px solid #223047;
  padding:6px 10px; border-radius:10px; min-width:92px; text-align:right;
}

/* small empty */
.empty.small{ padding:14px; }
